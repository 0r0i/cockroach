YACC := ../../../../../../bin/yacc

.PHONY: all
all: sql.go reserved_keywords.go

sql.go: sql.y
	$(YACC) -o sql.go -p sql sql.y
	@echo '// Code generated by go yacc.' | \
	  cat - sql.go > sql.go.tmp && mv -f sql.go.tmp sql.go

reserved_keywords.go: sql.y reserved_keywords.awk
	awk -f reserved_keywords.awk < sql.y > reserved_keywords.go
	gofmt -s -w reserved_keywords.go
